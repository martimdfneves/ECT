/* * TP88930.java *  * Copyright 2017 João Tomás Simões <jtsimoes@ua.pt> *  * This program is free software; you can redistribute it and/or modify * it under the terms of the GNU General Public License as published by * the Free Software Foundation; either version 2 of the License, or * (at your option) any later version. *  * This program is distributed in the hope that it will be useful, * but WITHOUT ANY WARRANTY; without even the implied warranty of * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the * GNU General Public License for more details. *  * You should have received a copy of the GNU General Public License * along with this program; if not, write to the Free Software * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, * MA 02110-1301, USA. *  *  */// João Tomás Borges Simões (88930)import java.util.*;import java.io.*;public class TP88930 {		static Scanner sc = new Scanner(System.in).useLocale(Locale.US);		public static void main(String[] args) throws IOException {	boolean escolha;	garrafa[] Garrafeira = new garrafa[100];	int contador;		for (int i=0; i<Garrafeira.length; i++)	{		Garrafeira[i] = new garrafa();	}		escolha=escolha();		if (escolha==true) {		contador = garrafeiraFich(Garrafeira);	}	else {		contador = garrafeiraTec(Garrafeira);	}		listaGarrafeira(Garrafeira,contador);			int[][] Organizado = new int[48][3];				for (int i=0; i<Garrafeira.length;i++)		{													if (Garrafeira[i].ano == Organizado[0][0])			{				if (Garrafeira[i].tipo == 'T' || Garrafeira[i].tipo == 't')				{					Organizado[0][1]++;				}				else if(Garrafeira[i].tipo == 'B' || Garrafeira[i].tipo == 'b')				{					Organizado[0][2]++;				}			}			else if (Garrafeira[i].ano != Organizado[0][0])			{				for(int n=0;n<Organizado.length;n++)				{					if (Garrafeira[i].ano == Organizado[n][0])					{						if (Garrafeira[i].tipo == 'T' || Garrafeira[i].tipo == 't')						{							Organizado[n][1]++;							break;						}						else if(Garrafeira[i].tipo == 'B' || Garrafeira[i].tipo == 'b')						{							Organizado[n][2]++;							break;						}					}							else if (Organizado[n][0] == 0)					{						Organizado[n][0] = Garrafeira[i].ano;						if (Garrafeira[i].tipo == 'T' || Garrafeira[i].tipo == 't')						{							Organizado[n][1]++;							break;						}						else if(Garrafeira[i].tipo == 'B' || Garrafeira[i].tipo == 'b')						{							Organizado[n][2]++;							break;						}					}				}					}		}			System.out.println("");	System.out.println("");	System.out.println("------------------------------------");	System.out.println("");	System.out.println("ANO	#T	#B");		for (int l= 0; l<Organizado.length;l++){			if (Organizado[l][0] == 0) 		{			break;		}					for(int c = 0; c<Organizado[0].length;c++)		{			System.out.print(Organizado[l][c] + " 	");			}		System.out.println("");	}	    }        public static boolean escolha(){		String opcao;		System.out.print("Ler do ficheiro (f) ou do teclado (qq)? ");		opcao = sc.next();		System.out.println("");		if(opcao.equals("f") || opcao.equals("F")) {			return true;		}		else {			return false;		}	}		public static int garrafeiraFich(garrafa Garrafeira[])throws IOException{		int contador = 0;		int i = 0;				File ficheirogarrafeira = new File("garrafeira.txt");/*		Exemplo da formatação necessária para a leitura de um ficheiro "garrafeira.txt"		1994 14.5 0.750 T		1998 13.0 0.750 B		1995 12.5 0.375 B		1994 12.5 0.375 B		2000 12.5 0.750 B		2010 14.0 0.750 B		1998 13.5 0.375 B
*/		if (!ficheirogarrafeira.isFile() || !ficheirogarrafeira.canRead()) {							System.out.println("Ficheiro 'garrafeira.txt' não encontrado!");			System.out.println("");			System.out.println("O programa vai ser terminado.");			System.exit(0);		}					System.out.println("Ficheiro válido! Lendo o ficheiro...");		System.out.println("");				Scanner lerficheiro = new Scanner(ficheirogarrafeira).useLocale(Locale.US);		//~ lerficheiro.useLocale(Locale.US);				while(lerficheiro.hasNextLine()) {			Garrafeira[i].ano = lerficheiro.nextInt();			Garrafeira[i].grau = lerficheiro.nextDouble();			Garrafeira[i].volume = lerficheiro.nextDouble();			Garrafeira[i].tipo = lerficheiro.next().charAt(0);				contador+=1;			i+=1;		}		lerficheiro.close();				System.out.println("Foram lidas " + contador + " garrafas com sucesso.");		System.out.println("");				return contador;	} 			public static int garrafeiraTec(garrafa Garrafeira[]){		int continuar;		int contador = 0;		int i = 0;				do {			do {				System.out.println("Insira o ano da garrafa: (utilize anos entre '1970' e '2017' apenas) ");				Garrafeira[i].ano = sc.nextInt();			} while (Garrafeira[i].ano<1970 || Garrafeira[i].ano>2017);			System.out.println("");			do {				System.out.println("Insira o grau da garrafa: (utilize valores entre '9.0' e '15.0' apenas) ");				Garrafeira[i].grau = sc.nextDouble();			} while (Garrafeira[i].grau<9.0 || Garrafeira[i].grau>15.0);			System.out.println("");			do {				System.out.println("Insira o volume da garrafa: (utilize '0.375' ou '0.75' apenas) ");				Garrafeira[i].volume = sc.nextDouble();			} while (Garrafeira[i].volume!=0.375 && Garrafeira[i].volume!=0.75);			System.out.println("");			do {				System.out.println("Insira o tipo de vinho da garrafa: (utlize 'T' ou 'B' apenas) ");				Garrafeira[i].tipo = sc.next().charAt(0); 			} while (Garrafeira[i].tipo!='T' && Garrafeira[i].tipo!='B');			System.out.println("");			contador+=1;			i+=1;						System.out.println("");			System.out.print("Digite 0 (zero) para terminar ou qualquer outro número para continuar: ");			continuar = sc.nextInt();			System.out.println("");			System.out.println("");		} while (continuar != 0);				System.out.println("Foram registadas " + contador + " garrafas com sucesso.");		System.out.println("");		return contador;	}		public static void listaGarrafeira(garrafa Garrafeira[],int contador){		System.out.println("------------------------------------");		System.out.println("");		System.out.println("ANO   GRAU   VOL.   TIPO");		for(int i=0; i<contador;i++){			System.out.println(" ");			System.out.print(Garrafeira[i].ano);			System.out.printf("  ");			System.out.print(Garrafeira[i].grau);						System.out.printf("   ");			System.out.print(Garrafeira[i].volume);			System.out.printf("   ");			System.out.print(Garrafeira[i].tipo);		}   	}}class garrafa{	int ano;	char tipo;	double grau, volume;}